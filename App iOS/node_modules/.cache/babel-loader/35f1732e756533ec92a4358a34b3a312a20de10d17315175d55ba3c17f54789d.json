{"ast":null,"code":"import{IonContent,IonHeader,IonPage}from'@ionic/react';import React,{useEffect}from'react';import{BleClient}from'@capacitor-community/bluetooth-le';import{ReactSVG}from'react-svg';import{BLE}from'@ionic-native/ble';import'./Menu.css';import Mover from'../imagenes/mover.svg';import Lluvia from'../imagenes/lluvia.svg';import Reloj from'../imagenes/reloj.svg';import Volver from'../imagenes/volver.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Menu(){const HEART_RATE_SERVICE='0000abcd-0000-1000-8000-00805f9b34fb';useEffect(()=>{const interval=setInterval(()=>{BLE.connectedPeripheralsWithServices([HEART_RATE_SERVICE]).then(async peripherals=>{console.log('Dispositivos conectados con el servicio '+HEART_RATE_SERVICE+':');for(let i=0;i<peripherals.length;i++){console.log(peripherals[i].id);}if(peripherals.length<=0){window.location.href='/Dispositivos';}},error=>{console.log('Error al buscar dispositivos conectados: '+error);});},1000);},[]);function irMovimiento(){window.location.href='/Movimiento';}function irLluvia(){window.location.href='/Lluvia';}function irReloj(){window.location.href='/Temporizador';}async function desconectar(){try{BLE.connectedPeripheralsWithServices([HEART_RATE_SERVICE]).then(async peripherals=>{console.log('Dispositivos conectados con el servicio '+HEART_RATE_SERVICE+':');for(let i=0;i<peripherals.length;i++){console.log(peripherals[i].id);await BleClient.disconnect(peripherals[i].id);window.location.href='/Dispositivos';}},error=>{console.log('Error al buscar dispositivos conectados: '+error);});}catch(error){console.error('Error al desconectar dispositivos:',error);window.location.href='/Home';}}return/*#__PURE__*/_jsx(IonPage,{children:/*#__PURE__*/_jsxs(IonContent,{fullscreen:true,className:\"contenido\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"contenedor-imagenes2\",children:[/*#__PURE__*/_jsx(ReactSVG,{src:Mover,className:\"img\",onClick:irMovimiento}),/*#__PURE__*/_jsx(ReactSVG,{src:Reloj,className:\"img\",onClick:irReloj}),/*#__PURE__*/_jsx(ReactSVG,{src:Lluvia,className:\"img\",onClick:irLluvia})]}),/*#__PURE__*/_jsx(ReactSVG,{src:Volver,className:\"img2\",onClick:desconectar})]})});}export default Menu;","map":{"version":3,"names":["IonContent","IonHeader","IonPage","React","useEffect","BleClient","ReactSVG","BLE","Mover","Lluvia","Reloj","Volver","jsx","_jsx","jsxs","_jsxs","Menu","HEART_RATE_SERVICE","interval","setInterval","connectedPeripheralsWithServices","then","peripherals","console","log","i","length","id","window","location","href","error","irMovimiento","irLluvia","irReloj","desconectar","disconnect","children","fullscreen","className","src","onClick"],"sources":["/Users/Misana/Desktop/Borja/src/pages/Menu.jsx"],"sourcesContent":["import { IonContent, IonHeader, IonPage} from '@ionic/react';\nimport React, { useEffect } from 'react';\nimport { BleClient } from '@capacitor-community/bluetooth-le';\nimport { ReactSVG } from 'react-svg';\nimport { BLE } from '@ionic-native/ble';\n\nimport './Menu.css';\nimport Mover from '../imagenes/mover.svg'\nimport Lluvia from '../imagenes/lluvia.svg'\nimport Reloj from '../imagenes/reloj.svg'\nimport Volver from '../imagenes/volver.svg'\n\nfunction Menu(){\n\n    const HEART_RATE_SERVICE = '0000abcd-0000-1000-8000-00805f9b34fb';\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n    \n          BLE.connectedPeripheralsWithServices([HEART_RATE_SERVICE]).then(\n            async peripherals => {\n              console.log('Dispositivos conectados con el servicio ' + HEART_RATE_SERVICE + ':');\n              for(let i = 0; i < peripherals.length; i++) {\n                console.log(peripherals[i].id);\n              }\n    \n              if(peripherals.length <= 0){\n                window.location.href ='/Dispositivos';\n              }\n    \n            },\n            error => {\n              console.log('Error al buscar dispositivos conectados: ' + error);\n            }\n          );\n    \n        }, 1000);\n    \n      }, []);\n\n    function irMovimiento(){\n        window.location.href ='/Movimiento';\n    }\n\n    function irLluvia(){\n        window.location.href ='/Lluvia';\n    }\n\n    function irReloj(){\n        window.location.href ='/Temporizador';\n    }\n\n    async function desconectar() {\n        try {\n    \n            BLE.connectedPeripheralsWithServices([HEART_RATE_SERVICE]).then(\n                async peripherals => {\n                  console.log('Dispositivos conectados con el servicio ' + HEART_RATE_SERVICE + ':');\n                  for(let i = 0; i < peripherals.length; i++) {\n                    console.log(peripherals[i].id);\n                    await BleClient.disconnect(peripherals[i].id);\n                    window.location.href ='/Dispositivos';\n                }\n                },\n                error => {\n                  console.log('Error al buscar dispositivos conectados: ' + error);\n                }\n              );\n          \n        } catch (error) {\n          console.error('Error al desconectar dispositivos:', error);\n          window.location.href ='/Home';\n    \n        }\n      }\n    \n    return(\n        <IonPage>\n            <IonContent fullscreen className='contenido'>\n\n                <div className='contenedor-imagenes2'> \n                    <ReactSVG src={Mover} className='img' onClick={irMovimiento}></ReactSVG>\n                    <ReactSVG src={Reloj} className='img' onClick={irReloj}></ReactSVG>\n                    <ReactSVG src={Lluvia} className='img' onClick={irLluvia}></ReactSVG>\n                </div>   \n\n                <ReactSVG src={Volver} className='img2' onClick={desconectar}></ReactSVG>\n\n            </IonContent>\n        </IonPage>\n\n    );\n}\n\nexport default Menu;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}