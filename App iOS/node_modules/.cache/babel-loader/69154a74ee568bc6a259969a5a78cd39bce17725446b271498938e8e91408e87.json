{"ast":null,"code":"import { Observable } from 'rxjs';\nimport { checkAvailability, getPlugin } from './common';\nfunction overrideFunction(pluginObj, methodName) {\n  return new Observable(function (observer) {\n    var availabilityCheck = checkAvailability(pluginObj, methodName);\n    if (availabilityCheck === true) {\n      var pluginInstance_1 = getPlugin(pluginObj.constructor.getPluginRef());\n      pluginInstance_1[methodName] = observer.next.bind(observer);\n      return function () {\n        return pluginInstance_1[methodName] = function () {};\n      };\n    } else {\n      observer.error(availabilityCheck);\n      observer.complete();\n    }\n  });\n}\nexport function cordovaFunctionOverride(pluginObj, methodName, args) {\n  if (args === void 0) {\n    args = [];\n  }\n  return overrideFunction(pluginObj, methodName);\n}","map":{"version":3,"names":["Observable","checkAvailability","getPlugin","overrideFunction","pluginObj","methodName","observer","availabilityCheck","pluginInstance_1","constructor","getPluginRef","next","bind","error","complete","cordovaFunctionOverride","args"],"sources":["/Users/Misana/Desktop/Borja/src/@ionic-native/core/decorators/cordova-function-override.ts"],"sourcesContent":["import { Observable, Observer } from 'rxjs';\n\nimport { checkAvailability, getPlugin } from './common';\n\nfunction overrideFunction(pluginObj: any, methodName: string): Observable<any> {\n  return new Observable((observer: Observer<any>) => {\n    const availabilityCheck = checkAvailability(pluginObj, methodName);\n\n    if (availabilityCheck === true) {\n      const pluginInstance = getPlugin(pluginObj.constructor.getPluginRef());\n      pluginInstance[methodName] = observer.next.bind(observer);\n      return () => (pluginInstance[methodName] = () => {});\n    } else {\n      observer.error(availabilityCheck);\n      observer.complete();\n    }\n  });\n}\n\nexport function cordovaFunctionOverride(pluginObj: any, methodName: string, args: IArguments | any[] = []) {\n  return overrideFunction(pluginObj, methodName);\n}\n"],"mappings":"AAAA,SAASA,UAAU,QAAkB,MAAM;AAE3C,SAASC,iBAAiB,EAAEC,SAAS,QAAQ,UAAU;AAEvD,SAASC,gBAAgBA,CAACC,SAAc,EAAEC,UAAkB;EAC1D,OAAO,IAAIL,UAAU,CAAC,UAACM,QAAuB;IAC5C,IAAMC,iBAAiB,GAAGN,iBAAiB,CAACG,SAAS,EAAEC,UAAU,CAAC;IAElE,IAAIE,iBAAiB,KAAK,IAAI,EAAE;MAC9B,IAAMC,gBAAc,GAAGN,SAAS,CAACE,SAAS,CAACK,WAAW,CAACC,YAAY,EAAE,CAAC;MACtEF,gBAAc,CAACH,UAAU,CAAC,GAAGC,QAAQ,CAACK,IAAI,CAACC,IAAI,CAACN,QAAQ,CAAC;MACzD,OAAO;QAAM,OAACE,gBAAc,CAACH,UAAU,CAAC,GAAG,aAAO,CAAC;MAAtC,CAAuC;KACrD,MAAM;MACLC,QAAQ,CAACO,KAAK,CAACN,iBAAiB,CAAC;MACjCD,QAAQ,CAACQ,QAAQ,EAAE;;EAEvB,CAAC,CAAC;AACJ;AAEA,OAAM,SAAUC,uBAAuBA,CAACX,SAAc,EAAEC,UAAkB,EAAEW,IAA6B;EAA7B,IAAAA,IAAA;IAAAA,IAAA,KAA6B;EAAA;EACvG,OAAOb,gBAAgB,CAACC,SAAS,EAAEC,UAAU,CAAC;AAChD"},"metadata":{},"sourceType":"module","externalDependencies":[]}