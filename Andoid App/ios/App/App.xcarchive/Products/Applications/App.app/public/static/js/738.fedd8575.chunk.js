/*! For license information please see 738.fedd8575.chunk.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkionic_app_base=globalThis.webpackChunkionic_app_base||[]).push([[738],{738:(e,t,s)=>{s.r(t),s.d(t,{scopeCss:()=>y});const r="-shadowcsshost",n="-shadowcssslotted",o="-shadowcsscontext",c=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",l=new RegExp("("+r+c,"gim"),i=new RegExp("("+o+c,"gim"),a=new RegExp("("+n+c,"gim"),p=r+"-no-combinator",h=/-shadowcsshost-no-combinator([^\s]*)/,g=[/::shadow/g,/::content/g],u=/-shadowcsshost/gim,d=/:host/gim,m=/::slotted/gim,f=/:host-context/gim,_=/\/\*\s*[\s\S]*?\*\//g,$=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g,x=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,w=/([{}])/g,b=/(^.*?[^\\])??((:+)(.*)|$)/,v="%BLOCK%",S=(e,t)=>{const s=W(e);let r=0;return s.escapedString.replace(x,(function(){const e=arguments.length<=2?void 0:arguments[2];let n="",o=arguments.length<=4?void 0:arguments[4],c="";o&&o.startsWith("{"+v)&&(n=s.blocks[r++],o=o.substring(8),c="{");const l=t({selector:e,content:n});return`${arguments.length<=1?void 0:arguments[1]}${l.selector}${arguments.length<=3?void 0:arguments[3]}${c}${l.content}${o}`}))},W=e=>{const t=e.split(w),s=[],r=[];let n=0,o=[];for(let c=0;c<t.length;c++){const e=t[c];"}"===e&&n--,n>0?o.push(e):(o.length>0&&(r.push(o.join("")),s.push(v),o=[]),s.push(e)),"{"===e&&n++}o.length>0&&(r.push(o.join("")),s.push(v));return{escapedString:s.join(""),blocks:r}},k=(e,t,s)=>e.replace(t,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t[2]){const e=t[2].split(","),r=[];for(let n=0;n<e.length;n++){const o=e[n].trim();if(!o)break;r.push(s(p,o,t[3]))}return r.join(",")}return p+t[3]})),O=(e,t,s)=>e+t.replace(r,"")+s,j=(e,t,s)=>t.indexOf(r)>-1?O(e,t,s):e+t+s+", "+t+" "+e+s,E=(e,t)=>{const s=(e=>(e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")([>\\s~+[.,{:][\\s\\S]*)?$","m")))(t);return!s.test(e)},R=(e,t)=>e.replace(b,(function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")+t+(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"")+(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"")})),T=(e,t,s)=>{const r="."+(t=t.replace(/\[is=([^\]]*)\]/g,(function(e){return arguments.length<=1?void 0:arguments[1]}))),n=e=>{let n=e.trim();if(!n)return"";if(e.indexOf(p)>-1)n=((e,t,s)=>{if(u.lastIndex=0,u.test(e)){const t=`.${s}`;return e.replace(h,((e,s)=>R(s,t))).replace(u,t+" ")}return t+" "+e})(e,t,s);else{const t=e.replace(u,"");t.length>0&&(n=R(t,r))}return n},o=(e=>{const t=[];let s=0;return{content:(e=e.replace(/(\[[^\]]*\])/g,((e,r)=>{const n=`__ph-${s}__`;return t.push(r),s++,n}))).replace(/(:nth-[-\w]+)(\([^)]+\))/g,((e,r,n)=>{const o=`__ph-${s}__`;return t.push(n),s++,r+o})),placeholders:t}})(e);let c,l="",i=0;const a=/( |>|\+|~(?!=))\s*/g;let g=!((e=o.content).indexOf(p)>-1);for(;null!==(c=a.exec(e));){const t=c[1],s=e.slice(i,c.index).trim();g=g||s.indexOf(p)>-1;l+=`${g?n(s):s} ${t} `,i=a.lastIndex}const d=e.substring(i);return g=g||d.indexOf(p)>-1,l+=g?n(d):d,m=o.placeholders,l.replace(/__ph-(\d+)__/g,((e,t)=>m[+t]));var m},C=(e,t,s,r,n)=>S(e,(e=>{let n=e.selector,o=e.content;"@"!==e.selector[0]?n=((e,t,s,r)=>e.split(",").map((e=>r&&e.indexOf("."+r)>-1?e.trim():E(e,t)?T(e,t,s).trim():e.trim())).join(", "))(e.selector,t,s,r):(e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document"))&&(o=C(e.content,t,s,r));return{selector:n.replace(/\s{2,}/g," ").trim(),content:o}})),L=(e,t,s,c,h)=>{const u=((e,t)=>{const s="."+t+" > ",r=[];return e=e.replace(a,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[2]){const e=t[2].trim(),n=t[3],o=s+e+n;let c="";for(let s=t[4]-1;s>=0;s--){const e=t[5][s];if("}"===e||","===e)break;c=e+c}const l=c+o,i=`${c.trimRight()}${o.trim()}`;if(l.trim()!==i.trim()){const e=`${i}, ${l}`;r.push({orgSelector:l,updatedSelector:e})}return o}return p+t[3]})),{selectors:r,cssText:e}})(e=(e=>k(e,i,j))(e=(e=>k(e,l,O))(e=e.replace(f,o).replace(d,r).replace(m,n))),c);return e=(e=>g.reduce(((e,t)=>e.replace(t," ")),e))(e=u.cssText),t&&(e=C(e,t,s,c)),{cssText:(e=(e=e.replace(/-shadowcsshost-no-combinator/g,`.${s}`)).replace(/>\s*\*\s+([^{, ]+)/gm," $1 ")).trim(),slottedSelectors:u.selectors}},y=(e,t,s)=>{const r=t+"-h",n=t+"-s",o=e.match($)||[];e=(e=>e.replace(_,""))(e);const c=[];if(s){const t=e=>{const t=`/*!@___${c.length}___*/`,s=`/*!@${e.selector}*/`;return c.push({placeholder:t,comment:s}),e.selector=t+e.selector,e};e=S(e,(e=>"@"!==e.selector[0]?t(e):e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document")?(e.content=S(e.content,t),e):e))}const l=L(e,t,r,n);return e=[l.cssText,...o].join("\n"),s&&c.forEach((t=>{let{placeholder:s,comment:r}=t;e=e.replace(s,r)})),l.slottedSelectors.forEach((t=>{e=e.replace(t.orgSelector,t.updatedSelector)})),e}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVNPLFdBQVcsY0FDekJHLEVBQUtOLFFBQVVaLEVBQWFrQixFQUFLTixRQUFTdUcsR0FDbkNqRyxHQUVKQSxHQUVmLENBQ0EsTUFBTW9HLEVBQVNqQyxFQUFhdkQsRUFBU3dELEVBQVNDLEVBQWFDLEdBVTNELE9BVEExRCxFQUFVLENBQUN3RixFQUFPeEYsV0FBWWlGLEdBQWtCbkYsS0FBSyxNQUNqRHNELEdBQ0FnQyxFQUFhSyxTQUFRQyxJQUE4QixJQUE3QixZQUFFSixFQUFXLFFBQUVDLEdBQVNHLEVBQzFDMUYsRUFBVUEsRUFBUXZCLFFBQVE2RyxFQUFhQyxFQUFRLElBR3ZEQyxFQUFPVCxpQkFBaUJVLFNBQVN2QixJQUM3QmxFLEVBQVVBLEVBQVF2QixRQUFReUYsRUFBZ0JHLFlBQWFILEVBQWdCTSxnQkFBZ0IsSUFFcEZ4RSxDQUFPIiwic291cmNlcyI6WyIuLi9ub2RlX21vZHVsZXMvQHN0ZW5jaWwvY29yZS9pbnRlcm5hbC9jbGllbnQvc2hhZG93LWNzcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuIFN0ZW5jaWwgQ2xpZW50IFBsYXRmb3JtIHYzLjIuMSB8IE1JVCBMaWNlbnNlZCB8IGh0dHBzOi8vc3RlbmNpbGpzLmNvbVxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICpcbiAqIFRoaXMgZmlsZSBpcyBhIHBvcnQgb2Ygc2hhZG93Q1NTIGZyb20gd2ViY29tcG9uZW50cy5qcyB0byBUeXBlU2NyaXB0LlxuICogaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzL2Jsb2IvNGVmZWNkN2UwZS9zcmMvU2hhZG93Q1NTL1NoYWRvd0NTUy5qc1xuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9ibG9iL21hc3Rlci9wYWNrYWdlcy9jb21waWxlci9zcmMvc2hhZG93X2Nzcy50c1xuICovXG5jb25zdCBzYWZlU2VsZWN0b3IgPSAoc2VsZWN0b3IpID0+IHtcbiAgICBjb25zdCBwbGFjZWhvbGRlcnMgPSBbXTtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIC8vIFJlcGxhY2VzIGF0dHJpYnV0ZSBzZWxlY3RvcnMgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgLy8gVGhlIFdTIGluIFthdHRyPVwidmEgbHVlXCJdIHdvdWxkIG90aGVyd2lzZSBiZSBpbnRlcnByZXRlZCBhcyBhIHNlbGVjdG9yIHNlcGFyYXRvci5cbiAgICBzZWxlY3RvciA9IHNlbGVjdG9yLnJlcGxhY2UoLyhcXFtbXlxcXV0qXFxdKS9nLCAoXywga2VlcCkgPT4ge1xuICAgICAgICBjb25zdCByZXBsYWNlQnkgPSBgX19waC0ke2luZGV4fV9fYDtcbiAgICAgICAgcGxhY2Vob2xkZXJzLnB1c2goa2VlcCk7XG4gICAgICAgIGluZGV4Kys7XG4gICAgICAgIHJldHVybiByZXBsYWNlQnk7XG4gICAgfSk7XG4gICAgLy8gUmVwbGFjZXMgdGhlIGV4cHJlc3Npb24gaW4gYDpudGgtY2hpbGQoMm4gKyAxKWAgd2l0aCBhIHBsYWNlaG9sZGVyLlxuICAgIC8vIFdTIGFuZCBcIitcIiB3b3VsZCBvdGhlcndpc2UgYmUgaW50ZXJwcmV0ZWQgYXMgc2VsZWN0b3Igc2VwYXJhdG9ycy5cbiAgICBjb25zdCBjb250ZW50ID0gc2VsZWN0b3IucmVwbGFjZSgvKDpudGgtWy1cXHddKykoXFwoW14pXStcXCkpL2csIChfLCBwc2V1ZG8sIGV4cCkgPT4ge1xuICAgICAgICBjb25zdCByZXBsYWNlQnkgPSBgX19waC0ke2luZGV4fV9fYDtcbiAgICAgICAgcGxhY2Vob2xkZXJzLnB1c2goZXhwKTtcbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgcmV0dXJuIHBzZXVkbyArIHJlcGxhY2VCeTtcbiAgICB9KTtcbiAgICBjb25zdCBzcyA9IHtcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgcGxhY2Vob2xkZXJzLFxuICAgIH07XG4gICAgcmV0dXJuIHNzO1xufTtcbmNvbnN0IHJlc3RvcmVTYWZlU2VsZWN0b3IgPSAocGxhY2Vob2xkZXJzLCBjb250ZW50KSA9PiB7XG4gICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZSgvX19waC0oXFxkKylfXy9nLCAoXywgaW5kZXgpID0+IHBsYWNlaG9sZGVyc1sraW5kZXhdKTtcbn07XG5jb25zdCBfcG9seWZpbGxIb3N0ID0gJy1zaGFkb3djc3Nob3N0JztcbmNvbnN0IF9wb2x5ZmlsbFNsb3R0ZWQgPSAnLXNoYWRvd2Nzc3Nsb3R0ZWQnO1xuLy8gbm90ZTogOmhvc3QtY29udGV4dCBwcmUtcHJvY2Vzc2VkIHRvIC1zaGFkb3djc3Nob3N0Y29udGV4dC5cbmNvbnN0IF9wb2x5ZmlsbEhvc3RDb250ZXh0ID0gJy1zaGFkb3djc3Njb250ZXh0JztcbmNvbnN0IF9wYXJlblN1ZmZpeCA9ICcpKD86XFxcXCgoJyArICcoPzpcXFxcKFteKShdKlxcXFwpfFteKShdKikrPycgKyAnKVxcXFwpKT8oW14se10qKSc7XG5jb25zdCBfY3NzQ29sb25Ib3N0UmUgPSBuZXcgUmVnRXhwKCcoJyArIF9wb2x5ZmlsbEhvc3QgKyBfcGFyZW5TdWZmaXgsICdnaW0nKTtcbmNvbnN0IF9jc3NDb2xvbkhvc3RDb250ZXh0UmUgPSBuZXcgUmVnRXhwKCcoJyArIF9wb2x5ZmlsbEhvc3RDb250ZXh0ICsgX3BhcmVuU3VmZml4LCAnZ2ltJyk7XG5jb25zdCBfY3NzQ29sb25TbG90dGVkUmUgPSBuZXcgUmVnRXhwKCcoJyArIF9wb2x5ZmlsbFNsb3R0ZWQgKyBfcGFyZW5TdWZmaXgsICdnaW0nKTtcbmNvbnN0IF9wb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IgPSBfcG9seWZpbGxIb3N0ICsgJy1uby1jb21iaW5hdG9yJztcbmNvbnN0IF9wb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3JSZSA9IC8tc2hhZG93Y3NzaG9zdC1uby1jb21iaW5hdG9yKFteXFxzXSopLztcbmNvbnN0IF9zaGFkb3dET01TZWxlY3RvcnNSZSA9IFsvOjpzaGFkb3cvZywgLzo6Y29udGVudC9nXTtcbmNvbnN0IF9zZWxlY3RvclJlU3VmZml4ID0gJyhbPlxcXFxzfitbLix7Ol1bXFxcXHNcXFxcU10qKT8kJztcbmNvbnN0IF9wb2x5ZmlsbEhvc3RSZSA9IC8tc2hhZG93Y3NzaG9zdC9naW07XG5jb25zdCBfY29sb25Ib3N0UmUgPSAvOmhvc3QvZ2ltO1xuY29uc3QgX2NvbG9uU2xvdHRlZFJlID0gLzo6c2xvdHRlZC9naW07XG5jb25zdCBfY29sb25Ib3N0Q29udGV4dFJlID0gLzpob3N0LWNvbnRleHQvZ2ltO1xuY29uc3QgX2NvbW1lbnRSZSA9IC9cXC9cXCpcXHMqW1xcc1xcU10qP1xcKlxcLy9nO1xuY29uc3Qgc3RyaXBDb21tZW50cyA9IChpbnB1dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKF9jb21tZW50UmUsICcnKTtcbn07XG5jb25zdCBfY29tbWVudFdpdGhIYXNoUmUgPSAvXFwvXFwqXFxzKiNcXHMqc291cmNlKE1hcHBpbmcpP1VSTD1bXFxzXFxTXSs/XFwqXFwvL2c7XG5jb25zdCBleHRyYWN0Q29tbWVudHNXaXRoSGFzaCA9IChpbnB1dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dC5tYXRjaChfY29tbWVudFdpdGhIYXNoUmUpIHx8IFtdO1xufTtcbmNvbnN0IF9ydWxlUmUgPSAvKFxccyopKFteO1xce1xcfV0rPykoXFxzKikoKD86eyVCTE9DSyV9P1xccyo7Pyl8KD86XFxzKjspKS9nO1xuY29uc3QgX2N1cmx5UmUgPSAvKFt7fV0pL2c7XG5jb25zdCBfc2VsZWN0b3JQYXJ0c1JlID0gLyheLio/W15cXFxcXSk/PygoOispKC4qKXwkKS87XG5jb25zdCBPUEVOX0NVUkxZID0gJ3snO1xuY29uc3QgQ0xPU0VfQ1VSTFkgPSAnfSc7XG5jb25zdCBCTE9DS19QTEFDRUhPTERFUiA9ICclQkxPQ0slJztcbmNvbnN0IHByb2Nlc3NSdWxlcyA9IChpbnB1dCwgcnVsZUNhbGxiYWNrKSA9PiB7XG4gICAgY29uc3QgaW5wdXRXaXRoRXNjYXBlZEJsb2NrcyA9IGVzY2FwZUJsb2NrcyhpbnB1dCk7XG4gICAgbGV0IG5leHRCbG9ja0luZGV4ID0gMDtcbiAgICByZXR1cm4gaW5wdXRXaXRoRXNjYXBlZEJsb2Nrcy5lc2NhcGVkU3RyaW5nLnJlcGxhY2UoX3J1bGVSZSwgKC4uLm0pID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSBtWzJdO1xuICAgICAgICBsZXQgY29udGVudCA9ICcnO1xuICAgICAgICBsZXQgc3VmZml4ID0gbVs0XTtcbiAgICAgICAgbGV0IGNvbnRlbnRQcmVmaXggPSAnJztcbiAgICAgICAgaWYgKHN1ZmZpeCAmJiBzdWZmaXguc3RhcnRzV2l0aCgneycgKyBCTE9DS19QTEFDRUhPTERFUikpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBpbnB1dFdpdGhFc2NhcGVkQmxvY2tzLmJsb2Nrc1tuZXh0QmxvY2tJbmRleCsrXTtcbiAgICAgICAgICAgIHN1ZmZpeCA9IHN1ZmZpeC5zdWJzdHJpbmcoQkxPQ0tfUExBQ0VIT0xERVIubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICBjb250ZW50UHJlZml4ID0gJ3snO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNzc1J1bGUgPSB7XG4gICAgICAgICAgICBzZWxlY3RvcixcbiAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJ1bGUgPSBydWxlQ2FsbGJhY2soY3NzUnVsZSk7XG4gICAgICAgIHJldHVybiBgJHttWzFdfSR7cnVsZS5zZWxlY3Rvcn0ke21bM119JHtjb250ZW50UHJlZml4fSR7cnVsZS5jb250ZW50fSR7c3VmZml4fWA7XG4gICAgfSk7XG59O1xuY29uc3QgZXNjYXBlQmxvY2tzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgaW5wdXRQYXJ0cyA9IGlucHV0LnNwbGl0KF9jdXJseVJlKTtcbiAgICBjb25zdCByZXN1bHRQYXJ0cyA9IFtdO1xuICAgIGNvbnN0IGVzY2FwZWRCbG9ja3MgPSBbXTtcbiAgICBsZXQgYnJhY2tldENvdW50ID0gMDtcbiAgICBsZXQgY3VycmVudEJsb2NrUGFydHMgPSBbXTtcbiAgICBmb3IgKGxldCBwYXJ0SW5kZXggPSAwOyBwYXJ0SW5kZXggPCBpbnB1dFBhcnRzLmxlbmd0aDsgcGFydEluZGV4KyspIHtcbiAgICAgICAgY29uc3QgcGFydCA9IGlucHV0UGFydHNbcGFydEluZGV4XTtcbiAgICAgICAgaWYgKHBhcnQgPT09IENMT1NFX0NVUkxZKSB7XG4gICAgICAgICAgICBicmFja2V0Q291bnQtLTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnJhY2tldENvdW50ID4gMCkge1xuICAgICAgICAgICAgY3VycmVudEJsb2NrUGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50QmxvY2tQYXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZXNjYXBlZEJsb2Nrcy5wdXNoKGN1cnJlbnRCbG9ja1BhcnRzLmpvaW4oJycpKTtcbiAgICAgICAgICAgICAgICByZXN1bHRQYXJ0cy5wdXNoKEJMT0NLX1BMQUNFSE9MREVSKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50QmxvY2tQYXJ0cyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0UGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydCA9PT0gT1BFTl9DVVJMWSkge1xuICAgICAgICAgICAgYnJhY2tldENvdW50Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGN1cnJlbnRCbG9ja1BhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZXNjYXBlZEJsb2Nrcy5wdXNoKGN1cnJlbnRCbG9ja1BhcnRzLmpvaW4oJycpKTtcbiAgICAgICAgcmVzdWx0UGFydHMucHVzaChCTE9DS19QTEFDRUhPTERFUik7XG4gICAgfVxuICAgIGNvbnN0IHN0ckVzY2FwZWRCbG9ja3MgPSB7XG4gICAgICAgIGVzY2FwZWRTdHJpbmc6IHJlc3VsdFBhcnRzLmpvaW4oJycpLFxuICAgICAgICBibG9ja3M6IGVzY2FwZWRCbG9ja3MsXG4gICAgfTtcbiAgICByZXR1cm4gc3RyRXNjYXBlZEJsb2Nrcztcbn07XG5jb25zdCBpbnNlcnRQb2x5ZmlsbEhvc3RJbkNzc1RleHQgPSAoc2VsZWN0b3IpID0+IHtcbiAgICBzZWxlY3RvciA9IHNlbGVjdG9yXG4gICAgICAgIC5yZXBsYWNlKF9jb2xvbkhvc3RDb250ZXh0UmUsIF9wb2x5ZmlsbEhvc3RDb250ZXh0KVxuICAgICAgICAucmVwbGFjZShfY29sb25Ib3N0UmUsIF9wb2x5ZmlsbEhvc3QpXG4gICAgICAgIC5yZXBsYWNlKF9jb2xvblNsb3R0ZWRSZSwgX3BvbHlmaWxsU2xvdHRlZCk7XG4gICAgcmV0dXJuIHNlbGVjdG9yO1xufTtcbmNvbnN0IGNvbnZlcnRDb2xvblJ1bGUgPSAoY3NzVGV4dCwgcmVnRXhwLCBwYXJ0UmVwbGFjZXIpID0+IHtcbiAgICAvLyBtWzFdID0gOmhvc3QoLWNvbnRleHQpLCBtWzJdID0gY29udGVudHMgb2YgKCksIG1bM10gcmVzdCBvZiBydWxlXG4gICAgcmV0dXJuIGNzc1RleHQucmVwbGFjZShyZWdFeHAsICguLi5tKSA9PiB7XG4gICAgICAgIGlmIChtWzJdKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IG1bMl0uc3BsaXQoJywnKTtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gcGFydHNbaV0udHJpbSgpO1xuICAgICAgICAgICAgICAgIGlmICghcClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgci5wdXNoKHBhcnRSZXBsYWNlcihfcG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yLCBwLCBtWzNdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gci5qb2luKCcsJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX3BvbHlmaWxsSG9zdE5vQ29tYmluYXRvciArIG1bM107XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5jb25zdCBjb2xvbkhvc3RQYXJ0UmVwbGFjZXIgPSAoaG9zdCwgcGFydCwgc3VmZml4KSA9PiB7XG4gICAgcmV0dXJuIGhvc3QgKyBwYXJ0LnJlcGxhY2UoX3BvbHlmaWxsSG9zdCwgJycpICsgc3VmZml4O1xufTtcbmNvbnN0IGNvbnZlcnRDb2xvbkhvc3QgPSAoY3NzVGV4dCkgPT4ge1xuICAgIHJldHVybiBjb252ZXJ0Q29sb25SdWxlKGNzc1RleHQsIF9jc3NDb2xvbkhvc3RSZSwgY29sb25Ib3N0UGFydFJlcGxhY2VyKTtcbn07XG5jb25zdCBjb2xvbkhvc3RDb250ZXh0UGFydFJlcGxhY2VyID0gKGhvc3QsIHBhcnQsIHN1ZmZpeCkgPT4ge1xuICAgIGlmIChwYXJ0LmluZGV4T2YoX3BvbHlmaWxsSG9zdCkgPiAtMSkge1xuICAgICAgICByZXR1cm4gY29sb25Ib3N0UGFydFJlcGxhY2VyKGhvc3QsIHBhcnQsIHN1ZmZpeCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gaG9zdCArIHBhcnQgKyBzdWZmaXggKyAnLCAnICsgcGFydCArICcgJyArIGhvc3QgKyBzdWZmaXg7XG4gICAgfVxufTtcbmNvbnN0IGNvbnZlcnRDb2xvblNsb3R0ZWQgPSAoY3NzVGV4dCwgc2xvdFNjb3BlSWQpID0+IHtcbiAgICBjb25zdCBzbG90Q2xhc3MgPSAnLicgKyBzbG90U2NvcGVJZCArICcgPiAnO1xuICAgIGNvbnN0IHNlbGVjdG9ycyA9IFtdO1xuICAgIGNzc1RleHQgPSBjc3NUZXh0LnJlcGxhY2UoX2Nzc0NvbG9uU2xvdHRlZFJlLCAoLi4ubSkgPT4ge1xuICAgICAgICBpZiAobVsyXSkge1xuICAgICAgICAgICAgY29uc3QgY29tcG91bmQgPSBtWzJdLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnN0IHN1ZmZpeCA9IG1bM107XG4gICAgICAgICAgICBjb25zdCBzbG90dGVkU2VsZWN0b3IgPSBzbG90Q2xhc3MgKyBjb21wb3VuZCArIHN1ZmZpeDtcbiAgICAgICAgICAgIGxldCBwcmVmaXhTZWxlY3RvciA9ICcnO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IG1bNF0gLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBtWzVdW2ldO1xuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSAnfScgfHwgY2hhciA9PT0gJywnKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmVmaXhTZWxlY3RvciA9IGNoYXIgKyBwcmVmaXhTZWxlY3RvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9yZ1NlbGVjdG9yID0gcHJlZml4U2VsZWN0b3IgKyBzbG90dGVkU2VsZWN0b3I7XG4gICAgICAgICAgICBjb25zdCBhZGRlZFNlbGVjdG9yID0gYCR7cHJlZml4U2VsZWN0b3IudHJpbVJpZ2h0KCl9JHtzbG90dGVkU2VsZWN0b3IudHJpbSgpfWA7XG4gICAgICAgICAgICBpZiAob3JnU2VsZWN0b3IudHJpbSgpICE9PSBhZGRlZFNlbGVjdG9yLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTZWxlY3RvciA9IGAke2FkZGVkU2VsZWN0b3J9LCAke29yZ1NlbGVjdG9yfWA7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBvcmdTZWxlY3RvcixcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbGVjdG9yLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNsb3R0ZWRTZWxlY3RvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfcG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yICsgbVszXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlbGVjdG9ycyxcbiAgICAgICAgY3NzVGV4dCxcbiAgICB9O1xufTtcbmNvbnN0IGNvbnZlcnRDb2xvbkhvc3RDb250ZXh0ID0gKGNzc1RleHQpID0+IHtcbiAgICByZXR1cm4gY29udmVydENvbG9uUnVsZShjc3NUZXh0LCBfY3NzQ29sb25Ib3N0Q29udGV4dFJlLCBjb2xvbkhvc3RDb250ZXh0UGFydFJlcGxhY2VyKTtcbn07XG5jb25zdCBjb252ZXJ0U2hhZG93RE9NU2VsZWN0b3JzID0gKGNzc1RleHQpID0+IHtcbiAgICByZXR1cm4gX3NoYWRvd0RPTVNlbGVjdG9yc1JlLnJlZHVjZSgocmVzdWx0LCBwYXR0ZXJuKSA9PiByZXN1bHQucmVwbGFjZShwYXR0ZXJuLCAnICcpLCBjc3NUZXh0KTtcbn07XG5jb25zdCBtYWtlU2NvcGVNYXRjaGVyID0gKHNjb3BlU2VsZWN0b3IpID0+IHtcbiAgICBjb25zdCBscmUgPSAvXFxbL2c7XG4gICAgY29uc3QgcnJlID0gL1xcXS9nO1xuICAgIHNjb3BlU2VsZWN0b3IgPSBzY29wZVNlbGVjdG9yLnJlcGxhY2UobHJlLCAnXFxcXFsnKS5yZXBsYWNlKHJyZSwgJ1xcXFxdJyk7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14oJyArIHNjb3BlU2VsZWN0b3IgKyAnKScgKyBfc2VsZWN0b3JSZVN1ZmZpeCwgJ20nKTtcbn07XG5jb25zdCBzZWxlY3Rvck5lZWRzU2NvcGluZyA9IChzZWxlY3Rvciwgc2NvcGVTZWxlY3RvcikgPT4ge1xuICAgIGNvbnN0IHJlID0gbWFrZVNjb3BlTWF0Y2hlcihzY29wZVNlbGVjdG9yKTtcbiAgICByZXR1cm4gIXJlLnRlc3Qoc2VsZWN0b3IpO1xufTtcbmNvbnN0IGluamVjdFNjb3BpbmdTZWxlY3RvciA9IChzZWxlY3Rvciwgc2NvcGluZ1NlbGVjdG9yKSA9PiB7XG4gICAgcmV0dXJuIHNlbGVjdG9yLnJlcGxhY2UoX3NlbGVjdG9yUGFydHNSZSwgKF8sIGJlZm9yZSA9ICcnLCBfY29sb25Hcm91cCwgY29sb24gPSAnJywgYWZ0ZXIgPSAnJykgPT4ge1xuICAgICAgICByZXR1cm4gYmVmb3JlICsgc2NvcGluZ1NlbGVjdG9yICsgY29sb24gKyBhZnRlcjtcbiAgICB9KTtcbn07XG5jb25zdCBhcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUgPSAoc2VsZWN0b3IsIHNjb3BlU2VsZWN0b3IsIGhvc3RTZWxlY3RvcikgPT4ge1xuICAgIC8vIEluIEFuZHJvaWQgYnJvd3NlciwgdGhlIGxhc3RJbmRleCBpcyBub3QgcmVzZXQgd2hlbiB0aGUgcmVnZXggaXMgdXNlZCBpbiBTdHJpbmcucmVwbGFjZSgpXG4gICAgX3BvbHlmaWxsSG9zdFJlLmxhc3RJbmRleCA9IDA7XG4gICAgaWYgKF9wb2x5ZmlsbEhvc3RSZS50ZXN0KHNlbGVjdG9yKSkge1xuICAgICAgICBjb25zdCByZXBsYWNlQnkgPSBgLiR7aG9zdFNlbGVjdG9yfWA7XG4gICAgICAgIHJldHVybiBzZWxlY3RvclxuICAgICAgICAgICAgLnJlcGxhY2UoX3BvbHlmaWxsSG9zdE5vQ29tYmluYXRvclJlLCAoXywgc2VsZWN0b3IpID0+IGluamVjdFNjb3BpbmdTZWxlY3RvcihzZWxlY3RvciwgcmVwbGFjZUJ5KSlcbiAgICAgICAgICAgIC5yZXBsYWNlKF9wb2x5ZmlsbEhvc3RSZSwgcmVwbGFjZUJ5ICsgJyAnKTtcbiAgICB9XG4gICAgcmV0dXJuIHNjb3BlU2VsZWN0b3IgKyAnICcgKyBzZWxlY3Rvcjtcbn07XG5jb25zdCBhcHBseVN0cmljdFNlbGVjdG9yU2NvcGUgPSAoc2VsZWN0b3IsIHNjb3BlU2VsZWN0b3IsIGhvc3RTZWxlY3RvcikgPT4ge1xuICAgIGNvbnN0IGlzUmUgPSAvXFxbaXM9KFteXFxdXSopXFxdL2c7XG4gICAgc2NvcGVTZWxlY3RvciA9IHNjb3BlU2VsZWN0b3IucmVwbGFjZShpc1JlLCAoXywgLi4ucGFydHMpID0+IHBhcnRzWzBdKTtcbiAgICBjb25zdCBjbGFzc05hbWUgPSAnLicgKyBzY29wZVNlbGVjdG9yO1xuICAgIGNvbnN0IF9zY29wZVNlbGVjdG9yUGFydCA9IChwKSA9PiB7XG4gICAgICAgIGxldCBzY29wZWRQID0gcC50cmltKCk7XG4gICAgICAgIGlmICghc2NvcGVkUCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwLmluZGV4T2YoX3BvbHlmaWxsSG9zdE5vQ29tYmluYXRvcikgPiAtMSkge1xuICAgICAgICAgICAgc2NvcGVkUCA9IGFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZShwLCBzY29wZVNlbGVjdG9yLCBob3N0U2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIDpob3N0IHNpbmNlIGl0IHNob3VsZCBiZSB1bm5lY2Vzc2FyeVxuICAgICAgICAgICAgY29uc3QgdCA9IHAucmVwbGFjZShfcG9seWZpbGxIb3N0UmUsICcnKTtcbiAgICAgICAgICAgIGlmICh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzY29wZWRQID0gaW5qZWN0U2NvcGluZ1NlbGVjdG9yKHQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjb3BlZFA7XG4gICAgfTtcbiAgICBjb25zdCBzYWZlQ29udGVudCA9IHNhZmVTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgc2VsZWN0b3IgPSBzYWZlQ29udGVudC5jb250ZW50O1xuICAgIGxldCBzY29wZWRTZWxlY3RvciA9ICcnO1xuICAgIGxldCBzdGFydEluZGV4ID0gMDtcbiAgICBsZXQgcmVzO1xuICAgIGNvbnN0IHNlcCA9IC8oIHw+fFxcK3x+KD8hPSkpXFxzKi9nO1xuICAgIC8vIElmIGEgc2VsZWN0b3IgYXBwZWFycyBiZWZvcmUgOmhvc3QgaXQgc2hvdWxkIG5vdCBiZSBzaGltbWVkIGFzIGl0XG4gICAgLy8gbWF0Y2hlcyBvbiBhbmNlc3RvciBlbGVtZW50cyBhbmQgbm90IG9uIGVsZW1lbnRzIGluIHRoZSBob3N0J3Mgc2hhZG93XG4gICAgLy8gYDpob3N0LWNvbnRleHQoZGl2KWAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgICAvLyBgLXNoYWRvd2Nzc2hvc3Qtbm8tY29tYmluYXRvcmRpdiwgZGl2IC1zaGFkb3djc3Nob3N0LW5vLWNvbWJpbmF0b3JgXG4gICAgLy8gdGhlIGBkaXZgIGlzIG5vdCBwYXJ0IG9mIHRoZSBjb21wb25lbnQgaW4gdGhlIDJuZCBzZWxlY3RvcnMgYW5kIHNob3VsZCBub3QgYmUgc2NvcGVkLlxuICAgIC8vIEhpc3RvcmljYWxseSBgY29tcG9uZW50LXRhZzpob3N0YCB3YXMgbWF0Y2hpbmcgdGhlIGNvbXBvbmVudCBzbyB3ZSBhbHNvIHdhbnQgdG8gcHJlc2VydmVcbiAgICAvLyB0aGlzIGJlaGF2aW9yIHRvIGF2b2lkIGJyZWFraW5nIGxlZ2FjeSBhcHBzIChpdCBzaG91bGQgbm90IG1hdGNoKS5cbiAgICAvLyBUaGUgYmVoYXZpb3Igc2hvdWxkIGJlOlxuICAgIC8vIC0gYHRhZzpob3N0YCAtPiBgdGFnW2hdYCAodGhpcyBpcyB0byBhdm9pZCBicmVha2luZyBsZWdhY3kgYXBwcywgc2hvdWxkIG5vdCBtYXRjaCBhbnl0aGluZylcbiAgICAvLyAtIGB0YWcgOmhvc3RgIC0+IGB0YWcgW2hdYCAoYHRhZ2AgaXMgbm90IHNjb3BlZCBiZWNhdXNlIGl0J3MgY29uc2lkZXJlZCBwYXJ0IG9mIGFcbiAgICAvLyAgIGA6aG9zdC1jb250ZXh0KHRhZylgKVxuICAgIGNvbnN0IGhhc0hvc3QgPSBzZWxlY3Rvci5pbmRleE9mKF9wb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IpID4gLTE7XG4gICAgLy8gT25seSBzY29wZSBwYXJ0cyBhZnRlciB0aGUgZmlyc3QgYC1zaGFkb3djc3Nob3N0LW5vLWNvbWJpbmF0b3JgIHdoZW4gaXQgaXMgcHJlc2VudFxuICAgIGxldCBzaG91bGRTY29wZSA9ICFoYXNIb3N0O1xuICAgIHdoaWxlICgocmVzID0gc2VwLmV4ZWMoc2VsZWN0b3IpKSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBzZXBhcmF0b3IgPSByZXNbMV07XG4gICAgICAgIGNvbnN0IHBhcnQgPSBzZWxlY3Rvci5zbGljZShzdGFydEluZGV4LCByZXMuaW5kZXgpLnRyaW0oKTtcbiAgICAgICAgc2hvdWxkU2NvcGUgPSBzaG91bGRTY29wZSB8fCBwYXJ0LmluZGV4T2YoX3BvbHlmaWxsSG9zdE5vQ29tYmluYXRvcikgPiAtMTtcbiAgICAgICAgY29uc3Qgc2NvcGVkUGFydCA9IHNob3VsZFNjb3BlID8gX3Njb3BlU2VsZWN0b3JQYXJ0KHBhcnQpIDogcGFydDtcbiAgICAgICAgc2NvcGVkU2VsZWN0b3IgKz0gYCR7c2NvcGVkUGFydH0gJHtzZXBhcmF0b3J9IGA7XG4gICAgICAgIHN0YXJ0SW5kZXggPSBzZXAubGFzdEluZGV4O1xuICAgIH1cbiAgICBjb25zdCBwYXJ0ID0gc2VsZWN0b3Iuc3Vic3RyaW5nKHN0YXJ0SW5kZXgpO1xuICAgIHNob3VsZFNjb3BlID0gc2hvdWxkU2NvcGUgfHwgcGFydC5pbmRleE9mKF9wb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IpID4gLTE7XG4gICAgc2NvcGVkU2VsZWN0b3IgKz0gc2hvdWxkU2NvcGUgPyBfc2NvcGVTZWxlY3RvclBhcnQocGFydCkgOiBwYXJ0O1xuICAgIC8vIHJlcGxhY2UgdGhlIHBsYWNlaG9sZGVycyB3aXRoIHRoZWlyIG9yaWdpbmFsIHZhbHVlc1xuICAgIHJldHVybiByZXN0b3JlU2FmZVNlbGVjdG9yKHNhZmVDb250ZW50LnBsYWNlaG9sZGVycywgc2NvcGVkU2VsZWN0b3IpO1xufTtcbmNvbnN0IHNjb3BlU2VsZWN0b3IgPSAoc2VsZWN0b3IsIHNjb3BlU2VsZWN0b3JUZXh0LCBob3N0U2VsZWN0b3IsIHNsb3RTZWxlY3RvcikgPT4ge1xuICAgIHJldHVybiBzZWxlY3RvclxuICAgICAgICAuc3BsaXQoJywnKVxuICAgICAgICAubWFwKChzaGFsbG93UGFydCkgPT4ge1xuICAgICAgICBpZiAoc2xvdFNlbGVjdG9yICYmIHNoYWxsb3dQYXJ0LmluZGV4T2YoJy4nICsgc2xvdFNlbGVjdG9yKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gc2hhbGxvd1BhcnQudHJpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3Rvck5lZWRzU2NvcGluZyhzaGFsbG93UGFydCwgc2NvcGVTZWxlY3RvclRleHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHlTdHJpY3RTZWxlY3RvclNjb3BlKHNoYWxsb3dQYXJ0LCBzY29wZVNlbGVjdG9yVGV4dCwgaG9zdFNlbGVjdG9yKS50cmltKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2hhbGxvd1BhcnQudHJpbSgpO1xuICAgICAgICB9XG4gICAgfSlcbiAgICAgICAgLmpvaW4oJywgJyk7XG59O1xuY29uc3Qgc2NvcGVTZWxlY3RvcnMgPSAoY3NzVGV4dCwgc2NvcGVTZWxlY3RvclRleHQsIGhvc3RTZWxlY3Rvciwgc2xvdFNlbGVjdG9yLCBjb21tZW50T3JpZ2luYWxTZWxlY3RvcikgPT4ge1xuICAgIHJldHVybiBwcm9jZXNzUnVsZXMoY3NzVGV4dCwgKHJ1bGUpID0+IHtcbiAgICAgICAgbGV0IHNlbGVjdG9yID0gcnVsZS5zZWxlY3RvcjtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBydWxlLmNvbnRlbnQ7XG4gICAgICAgIGlmIChydWxlLnNlbGVjdG9yWzBdICE9PSAnQCcpIHtcbiAgICAgICAgICAgIHNlbGVjdG9yID0gc2NvcGVTZWxlY3RvcihydWxlLnNlbGVjdG9yLCBzY29wZVNlbGVjdG9yVGV4dCwgaG9zdFNlbGVjdG9yLCBzbG90U2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJ1bGUuc2VsZWN0b3Iuc3RhcnRzV2l0aCgnQG1lZGlhJykgfHxcbiAgICAgICAgICAgIHJ1bGUuc2VsZWN0b3Iuc3RhcnRzV2l0aCgnQHN1cHBvcnRzJykgfHxcbiAgICAgICAgICAgIHJ1bGUuc2VsZWN0b3Iuc3RhcnRzV2l0aCgnQHBhZ2UnKSB8fFxuICAgICAgICAgICAgcnVsZS5zZWxlY3Rvci5zdGFydHNXaXRoKCdAZG9jdW1lbnQnKSkge1xuICAgICAgICAgICAgY29udGVudCA9IHNjb3BlU2VsZWN0b3JzKHJ1bGUuY29udGVudCwgc2NvcGVTZWxlY3RvclRleHQsIGhvc3RTZWxlY3Rvciwgc2xvdFNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjc3NSdWxlID0ge1xuICAgICAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yLnJlcGxhY2UoL1xcc3syLH0vZywgJyAnKS50cmltKCksXG4gICAgICAgICAgICBjb250ZW50LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY3NzUnVsZTtcbiAgICB9KTtcbn07XG5jb25zdCBzY29wZUNzc1RleHQgPSAoY3NzVGV4dCwgc2NvcGVJZCwgaG9zdFNjb3BlSWQsIHNsb3RTY29wZUlkLCBjb21tZW50T3JpZ2luYWxTZWxlY3RvcikgPT4ge1xuICAgIGNzc1RleHQgPSBpbnNlcnRQb2x5ZmlsbEhvc3RJbkNzc1RleHQoY3NzVGV4dCk7XG4gICAgY3NzVGV4dCA9IGNvbnZlcnRDb2xvbkhvc3QoY3NzVGV4dCk7XG4gICAgY3NzVGV4dCA9IGNvbnZlcnRDb2xvbkhvc3RDb250ZXh0KGNzc1RleHQpO1xuICAgIGNvbnN0IHNsb3R0ZWQgPSBjb252ZXJ0Q29sb25TbG90dGVkKGNzc1RleHQsIHNsb3RTY29wZUlkKTtcbiAgICBjc3NUZXh0ID0gc2xvdHRlZC5jc3NUZXh0O1xuICAgIGNzc1RleHQgPSBjb252ZXJ0U2hhZG93RE9NU2VsZWN0b3JzKGNzc1RleHQpO1xuICAgIGlmIChzY29wZUlkKSB7XG4gICAgICAgIGNzc1RleHQgPSBzY29wZVNlbGVjdG9ycyhjc3NUZXh0LCBzY29wZUlkLCBob3N0U2NvcGVJZCwgc2xvdFNjb3BlSWQpO1xuICAgIH1cbiAgICBjc3NUZXh0ID0gY3NzVGV4dC5yZXBsYWNlKC8tc2hhZG93Y3NzaG9zdC1uby1jb21iaW5hdG9yL2csIGAuJHtob3N0U2NvcGVJZH1gKTtcbiAgICBjc3NUZXh0ID0gY3NzVGV4dC5yZXBsYWNlKC8+XFxzKlxcKlxccysoW157LCBdKykvZ20sICcgJDEgJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3NzVGV4dDogY3NzVGV4dC50cmltKCksXG4gICAgICAgIHNsb3R0ZWRTZWxlY3RvcnM6IHNsb3R0ZWQuc2VsZWN0b3JzLFxuICAgIH07XG59O1xuY29uc3Qgc2NvcGVDc3MgPSAoY3NzVGV4dCwgc2NvcGVJZCwgY29tbWVudE9yaWdpbmFsU2VsZWN0b3IpID0+IHtcbiAgICBjb25zdCBob3N0U2NvcGVJZCA9IHNjb3BlSWQgKyAnLWgnO1xuICAgIGNvbnN0IHNsb3RTY29wZUlkID0gc2NvcGVJZCArICctcyc7XG4gICAgY29uc3QgY29tbWVudHNXaXRoSGFzaCA9IGV4dHJhY3RDb21tZW50c1dpdGhIYXNoKGNzc1RleHQpO1xuICAgIGNzc1RleHQgPSBzdHJpcENvbW1lbnRzKGNzc1RleHQpO1xuICAgIGNvbnN0IG9yZ1NlbGVjdG9ycyA9IFtdO1xuICAgIGlmIChjb21tZW50T3JpZ2luYWxTZWxlY3Rvcikge1xuICAgICAgICBjb25zdCBwcm9jZXNzQ29tbWVudGVkU2VsZWN0b3IgPSAocnVsZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBgLyohQF9fXyR7b3JnU2VsZWN0b3JzLmxlbmd0aH1fX18qL2A7XG4gICAgICAgICAgICBjb25zdCBjb21tZW50ID0gYC8qIUAke3J1bGUuc2VsZWN0b3J9Ki9gO1xuICAgICAgICAgICAgb3JnU2VsZWN0b3JzLnB1c2goeyBwbGFjZWhvbGRlciwgY29tbWVudCB9KTtcbiAgICAgICAgICAgIHJ1bGUuc2VsZWN0b3IgPSBwbGFjZWhvbGRlciArIHJ1bGUuc2VsZWN0b3I7XG4gICAgICAgICAgICByZXR1cm4gcnVsZTtcbiAgICAgICAgfTtcbiAgICAgICAgY3NzVGV4dCA9IHByb2Nlc3NSdWxlcyhjc3NUZXh0LCAocnVsZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bGUuc2VsZWN0b3JbMF0gIT09ICdAJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9jZXNzQ29tbWVudGVkU2VsZWN0b3IocnVsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChydWxlLnNlbGVjdG9yLnN0YXJ0c1dpdGgoJ0BtZWRpYScpIHx8XG4gICAgICAgICAgICAgICAgcnVsZS5zZWxlY3Rvci5zdGFydHNXaXRoKCdAc3VwcG9ydHMnKSB8fFxuICAgICAgICAgICAgICAgIHJ1bGUuc2VsZWN0b3Iuc3RhcnRzV2l0aCgnQHBhZ2UnKSB8fFxuICAgICAgICAgICAgICAgIHJ1bGUuc2VsZWN0b3Iuc3RhcnRzV2l0aCgnQGRvY3VtZW50JykpIHtcbiAgICAgICAgICAgICAgICBydWxlLmNvbnRlbnQgPSBwcm9jZXNzUnVsZXMocnVsZS5jb250ZW50LCBwcm9jZXNzQ29tbWVudGVkU2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBydWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bGU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBzY29wZWQgPSBzY29wZUNzc1RleHQoY3NzVGV4dCwgc2NvcGVJZCwgaG9zdFNjb3BlSWQsIHNsb3RTY29wZUlkKTtcbiAgICBjc3NUZXh0ID0gW3Njb3BlZC5jc3NUZXh0LCAuLi5jb21tZW50c1dpdGhIYXNoXS5qb2luKCdcXG4nKTtcbiAgICBpZiAoY29tbWVudE9yaWdpbmFsU2VsZWN0b3IpIHtcbiAgICAgICAgb3JnU2VsZWN0b3JzLmZvckVhY2goKHsgcGxhY2Vob2xkZXIsIGNvbW1lbnQgfSkgPT4ge1xuICAgICAgICAgICAgY3NzVGV4dCA9IGNzc1RleHQucmVwbGFjZShwbGFjZWhvbGRlciwgY29tbWVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzY29wZWQuc2xvdHRlZFNlbGVjdG9ycy5mb3JFYWNoKChzbG90dGVkU2VsZWN0b3IpID0+IHtcbiAgICAgICAgY3NzVGV4dCA9IGNzc1RleHQucmVwbGFjZShzbG90dGVkU2VsZWN0b3Iub3JnU2VsZWN0b3IsIHNsb3R0ZWRTZWxlY3Rvci51cGRhdGVkU2VsZWN0b3IpO1xuICAgIH0pO1xuICAgIHJldHVybiBjc3NUZXh0O1xufTtcblxuZXhwb3J0IHsgc2NvcGVDc3MgfTtcbiJdLCJuYW1lcyI6WyJfcG9seWZpbGxIb3N0IiwiX3BvbHlmaWxsU2xvdHRlZCIsIl9wb2x5ZmlsbEhvc3RDb250ZXh0IiwiX3BhcmVuU3VmZml4IiwiX2Nzc0NvbG9uSG9zdFJlIiwiUmVnRXhwIiwiX2Nzc0NvbG9uSG9zdENvbnRleHRSZSIsIl9jc3NDb2xvblNsb3R0ZWRSZSIsIl9wb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IiLCJfcG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yUmUiLCJfc2hhZG93RE9NU2VsZWN0b3JzUmUiLCJfcG9seWZpbGxIb3N0UmUiLCJfY29sb25Ib3N0UmUiLCJfY29sb25TbG90dGVkUmUiLCJfY29sb25Ib3N0Q29udGV4dFJlIiwiX2NvbW1lbnRSZSIsIl9jb21tZW50V2l0aEhhc2hSZSIsIl9ydWxlUmUiLCJfY3VybHlSZSIsIl9zZWxlY3RvclBhcnRzUmUiLCJCTE9DS19QTEFDRUhPTERFUiIsInByb2Nlc3NSdWxlcyIsImlucHV0IiwicnVsZUNhbGxiYWNrIiwiaW5wdXRXaXRoRXNjYXBlZEJsb2NrcyIsImVzY2FwZUJsb2NrcyIsIm5leHRCbG9ja0luZGV4IiwiZXNjYXBlZFN0cmluZyIsInJlcGxhY2UiLCJzZWxlY3RvciIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImNvbnRlbnQiLCJzdWZmaXgiLCJjb250ZW50UHJlZml4Iiwic3RhcnRzV2l0aCIsImJsb2NrcyIsInN1YnN0cmluZyIsInJ1bGUiLCJpbnB1dFBhcnRzIiwic3BsaXQiLCJyZXN1bHRQYXJ0cyIsImVzY2FwZWRCbG9ja3MiLCJicmFja2V0Q291bnQiLCJjdXJyZW50QmxvY2tQYXJ0cyIsInBhcnRJbmRleCIsInBhcnQiLCJwdXNoIiwiam9pbiIsImNvbnZlcnRDb2xvblJ1bGUiLCJjc3NUZXh0IiwicmVnRXhwIiwicGFydFJlcGxhY2VyIiwiX2xlbiIsIm0iLCJBcnJheSIsIl9rZXkiLCJwYXJ0cyIsInIiLCJpIiwicCIsInRyaW0iLCJjb2xvbkhvc3RQYXJ0UmVwbGFjZXIiLCJob3N0IiwiY29sb25Ib3N0Q29udGV4dFBhcnRSZXBsYWNlciIsImluZGV4T2YiLCJzZWxlY3Rvck5lZWRzU2NvcGluZyIsInNjb3BlU2VsZWN0b3IiLCJyZSIsIm1ha2VTY29wZU1hdGNoZXIiLCJ0ZXN0IiwiaW5qZWN0U2NvcGluZ1NlbGVjdG9yIiwic2NvcGluZ1NlbGVjdG9yIiwiXyIsImFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZSIsImhvc3RTZWxlY3RvciIsImNsYXNzTmFtZSIsIl9zY29wZVNlbGVjdG9yUGFydCIsInNjb3BlZFAiLCJhcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUiLCJsYXN0SW5kZXgiLCJyZXBsYWNlQnkiLCJ0Iiwic2FmZUNvbnRlbnQiLCJwbGFjZWhvbGRlcnMiLCJpbmRleCIsImtlZXAiLCJwc2V1ZG8iLCJleHAiLCJzYWZlU2VsZWN0b3IiLCJyZXMiLCJzY29wZWRTZWxlY3RvciIsInN0YXJ0SW5kZXgiLCJzZXAiLCJzaG91bGRTY29wZSIsImV4ZWMiLCJzZXBhcmF0b3IiLCJzbGljZSIsInJlc3RvcmVTYWZlU2VsZWN0b3IiLCJzY29wZVNlbGVjdG9ycyIsInNjb3BlU2VsZWN0b3JUZXh0Iiwic2xvdFNlbGVjdG9yIiwiY29tbWVudE9yaWdpbmFsU2VsZWN0b3IiLCJtYXAiLCJzaGFsbG93UGFydCIsInNjb3BlQ3NzVGV4dCIsInNjb3BlSWQiLCJob3N0U2NvcGVJZCIsInNsb3RTY29wZUlkIiwic2xvdHRlZCIsImNvbnZlcnRDb2xvblNsb3R0ZWQiLCJzbG90Q2xhc3MiLCJzZWxlY3RvcnMiLCJfbGVuMiIsIl9rZXkyIiwiY29tcG91bmQiLCJzbG90dGVkU2VsZWN0b3IiLCJwcmVmaXhTZWxlY3RvciIsImNoYXIiLCJvcmdTZWxlY3RvciIsImFkZGVkU2VsZWN0b3IiLCJ0cmltUmlnaHQiLCJ1cGRhdGVkU2VsZWN0b3IiLCJjb252ZXJ0Q29sb25Ib3N0Q29udGV4dCIsImNvbnZlcnRDb2xvbkhvc3QiLCJyZWR1Y2UiLCJyZXN1bHQiLCJwYXR0ZXJuIiwiY29udmVydFNoYWRvd0RPTVNlbGVjdG9ycyIsInNsb3R0ZWRTZWxlY3RvcnMiLCJzY29wZUNzcyIsImNvbW1lbnRzV2l0aEhhc2giLCJtYXRjaCIsInN0cmlwQ29tbWVudHMiLCJvcmdTZWxlY3RvcnMiLCJwcm9jZXNzQ29tbWVudGVkU2VsZWN0b3IiLCJwbGFjZWhvbGRlciIsImNvbW1lbnQiLCJzY29wZWQiLCJmb3JFYWNoIiwiX3JlZiJdLCJzb3VyY2VSb290IjoiIn0=